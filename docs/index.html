<!doctype html>
<html lang="en" data-theme="light">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hermes WC</title>
  <script src="./vendor/prism.js"></script>
  <link rel="stylesheet" href="./vendor/prism.css" />
  <link rel="stylesheet" href="./vendor/pico.css" />
  <title>Vite App</title>
  <style>
    .image-wrapper {
      max-width: 350px;
      margin-inline: auto;
    }

    .links {
      display: flex;
      flex-direction: row;
      gap: 16px;
    }

    h1 {
      margin-bottom: 0;
    }

    h2,
    h3,
    h4 {
      margin-bottom: 8px;
    }

    .bold {
      font-weight: bold;
    }
  </style>
</head>

<body>
  <main class="container">
    <h1>Hermes WC</h1>
    <div class="links">
      <a href="">GitHub</a>
      <a href="">X (Twitter)</a>
      <a href="https://component-odyssey.com/">Component Odyssey</a>
    </div>
    <blockquote>Because user feedback should be treated like a gift from the gods.</blockquote>


    <div class="image-wrapper">
      <img src="hermes-demo.gif" alt="Hermes demo" />
    </div>

    <!-- Add image -->

    <h2>What is Hermes WC?</h2>
    <p>Hermes WC lets you add a simple feedback widget to any web page.
    </p>
    <p>With Hermes WC you can plug in "submission adapters" to send your feedback wherever you want. We
      offer an adapter for Discord, but we'll be adding more in the future.
      Please let us know what kind of adapters would be most useful for you!</p>

    <h2>Getting Started</h2>
    <p>To get started using Hermes WC, install the package in your project:</p>
    <pre class="language-bash">npm install hermes-wc</pre>
    <p>In your HTML add the following code:</p>
    <pre class="language-markup"><code>&lt;hermes-wrapper&gt;
  &lt;form class=&quot;hermes-stack&quot; data-hermes=&quot;form&quot;&gt;
    &lt;sl-input name=&quot;feedback&quot; label=&quot;Feedback&quot; placeholder=&quot;e.g., Not clear enough&quot;&gt;&lt;/sl-input&gt;
    &lt;hermes-score-input name=&quot;score&quot; label=&quot;Score&quot; score-count=&quot;5&quot; start-helper-text=&quot;Low Score&quot;
      end-helper-text=&quot;High score&quot;&gt;&lt;/hermes-score-input&gt;
    &lt;div class=&quot;hermes-row&quot;&gt;
      &lt;sl-button data-hermes=&quot;close&quot;&gt;Close&lt;/sl-button&gt;
      &lt;sl-button variant=&quot;primary&quot; type=&quot;submit&quot;&gt;Submit&lt;/sl-button&gt;
    &lt;/div&gt;
  &lt;/form&gt;
&lt;/hermes-wrapper&gt; </code></pre>

    <p>This is the very same markup used to render the Hermes form used in this page.</p>
    <p>
      Next, include the following JavaScript in your page:
    </p>

    <pre class="language-javascript"><code>import 'hermes-wc/src/style.css';
import { DiscordSubmissionAdapter } from 'hermes-wc/src/submission-adapters/discord.js'
import { initializeHermesForm } from 'hermes-wc/src/index.js'

const cleanup = initializeHermesForm({
  submissionAdapters: [new DiscordSubmissionAdapter({
    webhookUrl: 'your webhook url'
  })],
  submissionCompleteCallback: (response) => { // handle the response }
})

// When you can to clean up the event listeners
cleanup()</code></pre>

    <h2>What is the code doing?</h2>

    <p>The `initializeHermesForm` function registers the web components to the page and sets up a bunch of event
      listeners. It also returns a `cleanup` function that you can use to remove the event listeners when you no longer
      need them.</p>

    <p>The `hermes-wrapper` component sets the open and close state of the form, as well as the positioning of the side
      button. You can omit this component if you want an inline form.</p>

    <p>The `form` element listens to and reacts to the form submission.</p>
    <p>Because Hermes WC uses HTML to handle form submission, you can provide any valid HTML form control as a child of
      the `form` element, and Hermes WC
      will include its value when submitting the data.</p>

    <p>To submit a form, use a `&lt;button type=&quot;submit&quot;&gt;&lt;/button&gt;` as a child of the form element.
      Clicking it will trigger a form submission on click.</p>

    <p>By default, Hermes WC uses some <a href="https://shoelace.style/">Shoelace</a> web components to build out the UI
      of the form. These are
      interoperable and accessible by default, so they will work regardless of which framework you use.</p>

    <p>Hermes WC also exports a `hermes-score-input` which is a convenience wrapper over Shoelace's radio button
      components.</p>

    <h2>API</h2>
    <h3>Hermes Wrapper</h3>
    <p>Handles the open/close state of the modal, as well as the position of the sticky open
      button.</p>
    <h4>Props</h4>
    <p><span class="bold">label: </span>The label of the sticky open button.</p>

    <h3>Hermes Score Input</h3>
    <p>Displays a radio group.</p>
    <h4>Props</h4>
    <p><span class="bold">score-count: </span>The number of buttons to display</p>
    <p><span class="bold">start-helper-text: </span>The label to display on the left hand side of the input</p>
    <p><span class="bold">end-helper-text: </span>The label to display on the right hand side of the input</p>
    <p><span class="bold">name: </span>The name of the input, which is used in form submission</p>

    <h3>initializeHermesForm</h3>
    <p>Registers the web components and sets up the event listeners.</p>
    <h4>Args</h4>
    <p><span class="bold">submissionAdapters: </span>An array of submission adapters to use. See the submission
      adapters section for more information.</p>

    <h3>Submission Adapters</h3>
    <p>Submission adapters are used to send the form data to a destination of your choice. We currently offer a Discord
      submission adapter, but we'll be adding more in the future.</p>

    <h4>Discord Submission Adapter</h4>
    <p>Posts the form data to a Discord webhook.</p>
    <h5>Args</h5>
    <p><span class="bold">webhookUrl: </span>The URL of the Discord webhook to post to.</p>

    <h4>Creating a custom submission adapter</h4>
    <p>Submission adapters are just classes that implement the following interface:</p>
    <pre class="language-javascript"><code>interface SubmissionAdapter {
  submit: (formData) => Promise&lt;void&gt;
}</code></pre>

    <h2>Styling your Hermes WC form</h2>
    <p>Hermes WC offers a few CSS variables you can override to style the form. You can view them <a href="">here</a>
    </p>
    <p>Hermes also applies styles using Shoelace's CSS variables and parts, which you can also override. You can view
      the variables here <a href="https://github.com/shoelace-style/shoelace/blob/next/src/themes/light.css">here</a>.
      The Shoelace documentation also describes how to customise Shoelace components using parts.</p>

    <hermes-wrapper>
      <form class="hermes-stack" data-hermes="form">
        <sl-input name="feedback" required label="Feedback" placeholder="e.g., Not clear enough"></sl-input>
        <hermes-score-input name="score" label="Score" score-count="5" start-helper-text="Low Score"
          end-helper-text="High score"></hermes-score-input>
        <div class="hermes-row">
          <sl-button data-hermes="close">Close</sl-button>
          <sl-button variant="primary" type="submit">Submit</sl-button>
        </div>
        <p data-hermes="helper-text"></p>
      </form>
    </hermes-wrapper>
  </main>

  <script type="module">
    import '../src/style.css';
    import { DiscordSubmissionAdapter } from '../src/submission-adapters/discord.js'
    import { initializeHermesForm } from '../src/index.js'

    initializeHermesForm({
      submissionAdapters: [],
      submissionCompleteCallback: () => {
        const helperTextEl = document.querySelector('[data-hermes="helper-text"]')

        helperTextEl.textContent = 'Why not give Hermes WC a star on GitHub?'
      }
    })
  </script>
</body>

</html>

<!-- Think about how people can handle this without writing web components outside of the wrapper component -->